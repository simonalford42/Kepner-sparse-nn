/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
INFO:tensorflow:Summary name dense1/dense1_2/activation sparsity is illegal; using dense1/dense1_2/activation_sparsity instead.
INFO:tensorflow:Summary name dense2/dense2_2/activation sparsity is illegal; using dense2/dense2_2/activation_sparsity instead.
INFO:tensorflow:Summary name logits/logits_2/activation sparsity is illegal; using logits/logits_2/activation_sparsity instead.
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-6600
2018-08-20 03:28:39.619708: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug21/rand31_2/model.ckpt-400
2018-08-20 03:28:40.091724: W tensorflow/core/kernels/queue_base.cc:295] _0_input_producer/input_producer: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.091943: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.091992: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.092026: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.092058: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.092091: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
2018-08-20 03:28:40.092122: W tensorflow/core/kernels/queue_base.cc:295] _1_batch/fifo_queue: Skipping cancelled enqueue attempt with queue not closed
Extracting ../../data/mnist/train-images-idx3-ubyte.gz
Extracting ../../data/mnist/train-labels-idx1-ubyte.gz
Extracting ../../data/mnist/t10k-images-idx3-ubyte.gz
Extracting ../../data/mnist/t10k-labels-idx1-ubyte.gz
Traceback (most recent call last):
INFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.CancelledError'>, Enqueue operation was cancelled
	 [[Node: batch/fifo_queue_enqueue = QueueEnqueueV2[Tcomponents=[DT_FLOAT, DT_UINT8], timeout_ms=-1, _device="/job:localhost/replica:0/task:0/cpu:0"](batch/fifo_queue, input_producer/Gather, input_producer/Gather_1)]]
  File "test.py", line 108, in <module>
    monitor_test_mnist(model_dir)
  File "test.py", line 75, in monitor_test_mnist
    saver.restore(sess, checkpoint)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 1560, in restore
    {self.saver_def.filename_tensor_name: save_path})
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/client/session.py", line 895, in run
    run_metadata_ptr)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/client/session.py", line 1124, in _run
    feed_dict_tensor, options, run_metadata)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/client/session.py", line 1321, in _do_run
    options, run_metadata)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/client/session.py", line 1340, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.InvalidArgumentError: Assign requires shapes of both tensors to match. lhs shape= [300] rhs shape= [600]
	 [[Node: save/Assign = Assign[T=DT_FLOAT, _class=["loc:@dense1/biases"], use_locking=true, validate_shape=true, _device="/job:localhost/replica:0/task:0/cpu:0"](dense1/biases, save/RestoreV2)]]

Caused by op u'save/Assign', defined at:
  File "test.py", line 108, in <module>
    monitor_test_mnist(model_dir)
  File "test.py", line 38, in monitor_test_mnist
    saver = tf.train.Saver()
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 1140, in __init__
    self.build()
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 1172, in build
    filename=self._filename)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 688, in build
    restore_sequentially, reshape)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 419, in _AddRestoreOps
    assign_ops.append(saveable.restore(tensors, shapes))
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/training/saver.py", line 155, in restore
    self.op.get_shape().is_fully_defined())
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/ops/state_ops.py", line 274, in assign
    validate_shape=validate_shape)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py", line 43, in assign
    use_locking=use_locking, name=name)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py", line 767, in apply_op
    op_def=op_def)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/framework/ops.py", line 2630, in create_op
    original_op=self._default_original_op, op_def=op_def)
  File "/state/partition1/llgrid/pkg/anaconda2-5.0.1/lib/python2.7/site-packages/tensorflow/python/framework/ops.py", line 1204, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

InvalidArgumentError (see above for traceback): Assign requires shapes of both tensors to match. lhs shape= [300] rhs shape= [600]
	 [[Node: save/Assign = Assign[T=DT_FLOAT, _class=["loc:@dense1/biases"], use_locking=true, validate_shape=true, _device="/job:localhost/replica:0/task:0/cpu:0"](dense1/biases, save/RestoreV2)]]

INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-6800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-7000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-7200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-7400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-7600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-7800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-8000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-8200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-8400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-8600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-8800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-9800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-10000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-10400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-10400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-10600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-11800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-12000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-12400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-12600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-12800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-13000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-13200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-13200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-13400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-13800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-14000
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-14200
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-14400
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-14600
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-14800
INFO:tensorflow:Restoring parameters from /home/gridsan/salford/Kepner-sparse-nn/saved/aug20/rand31_2/model.ckpt-15000
Extracting ../../data/mnist/train-images-idx3-ubyte.gz
Extracting ../../data/mnist/train-labels-idx1-ubyte.gz
Extracting ../../data/mnist/t10k-images-idx3-ubyte.gz
Extracting ../../data/mnist/t10k-labels-idx1-ubyte.gz
Model at step 200: acc = 0.629
Model at step 400: acc = 0.647
Model at step 600: acc = 0.661
Model at step 800: acc = 0.6636
Model at step 1000: acc = 0.6679
Model at step 1200: acc = 0.6716
Model at step 1400: acc = 0.6717
Model at step 1600: acc = 0.6723
Model at step 1800: acc = 0.6742
Model at step 2000: acc = 0.6719
Model at step 2200: acc = 0.6781
Model at step 2400: acc = 0.6664
Model at step 2600: acc = 0.6692
Model at step 2800: acc = 0.6788
Model at step 3000: acc = 0.6789
Model at step 3200: acc = 0.6787
Model at step 3400: acc = 0.6815
Model at step 3600: acc = 0.6807
Model at step 3800: acc = 0.6806
Model at step 4000: acc = 0.6815
Model at step 4200: acc = 0.6811
Model at step 4400: acc = 0.6821
Model at step 4600: acc = 0.6776
Model at step 4800: acc = 0.674
Model at step 5000: acc = 0.6813
Model at step 5200: acc = 0.6833
Model at step 5400: acc = 0.684
Model at step 5600: acc = 0.6838
Model at step 5800: acc = 0.6837
Model at step 6000: acc = 0.6846
Model at step 6200: acc = 0.6847
Model at step 6400: acc = 0.6841
Model at step 6600: acc = 0.6842
Model at step 6800: acc = 0.6825
Model at step 7000: acc = 0.6821
Model at step 7200: acc = 0.6832
Model at step 7400: acc = 0.6844
Model at step 7600: acc = 0.6843
Model at step 7800: acc = 0.6842
Model at step 8000: acc = 0.7744
Model at step 8200: acc = 0.7766
Model at step 8400: acc = 0.7769
Model at step 8600: acc = 0.7749
Model at step 8800: acc = 0.7771
Model at step 9000: acc = 0.7748
Model at step 9200: acc = 0.7748
Model at step 9400: acc = 0.7774
Model at step 9600: acc = 0.7775
Model at step 9800: acc = 0.7769
Model at step 10000: acc = 0.7767
Model at step 10200: acc = 0.7766
Model at step 10400: acc = 0.7771
Model at step 10600: acc = 0.777
Model at step 10800: acc = 0.7783
Model at step 11000: acc = 0.7785
Model at step 11200: acc = 0.7781
Model at step 11400: acc = 0.7786
Model at step 11600: acc = 0.7787
Model at step 11800: acc = 0.7779
Model at step 12000: acc = 0.7779
Model at step 12200: acc = 0.7784
Model at step 12400: acc = 0.7785
Model at step 12600: acc = 0.7775
Model at step 12800: acc = 0.7789
Model at step 13000: acc = 0.7787
Model at step 13200: acc = 0.779
Model at step 13400: acc = 0.779
Model at step 13600: acc = 0.7789
Model at step 13800: acc = 0.7793
Model at step 14000: acc = 0.7776
Model at step 14200: acc = 0.7786
Model at step 14400: acc = 0.7789
Model at step 14600: acc = 0.7791
Model at step 14800: acc = 0.7779
Model at step 15000: acc = 0.7791
